function headerTyping(){var t=$(".header-logo");t.find(".char").remove();var n=t.children("span"),e=t.children("small"),o=0;function i(t,n){for(var e=0;e<n.length;e++){var i=$("<span/>",{text:n.charAt(e),class:"char char-"+(o+1)});t.append(i),o++}}i(n,n.children("span").textNode()),i(e,e.children("span").textNode())}function toggleIsClick(){$(this).toggleClass("is-click")}function isElementOnScreen(t){var n=$(window),e=n.scrollTop(),i=e+n.height(),o=e+n.height()/2,a=t.offset().top,s=a+t.height();return a<i&&e<=a||a<e&&o<s}function replaceAt(t,n,e){return t.substring(0,n)+e+t.substring(n+1)}$(function(){oLng.init(),oNav.init(),$(document).on("scroll",function(t){oNav.upd()})}),oLng={sDefault:"ru",init:function(){var n=this;localStorage.getItem("lng")&&(n.sDefault=localStorage.getItem("lng")),$.getJSON("/lang.json",function(t){n.oStrings=t,n.toggler($('[data-lng="'+n.sDefault+'"]')),n.set(n.sDefault,function(){$("[data-lng]").click(function(){n.toggler($(this))})})}).fail(function(t,n,e){console.error(e)})},toggler:function(t){t.addClass("active").siblings().removeClass("active");var n=t.data("lng");this.set(n,function(){headerTyping()})},set:function(e,i){var o=this;o.oStrings[e]||(e=o.sDefault),o.sCurrent=e,$("[lngstr]").each(function(t){var n=$(this).attr("lngstr");$(this).animate({opacity:0},200,function(){$(this).html(o.oStrings[e][n]),$(this).animate({opacity:1},200,function(){$("[lngstr]").length==t+1&&"function"==typeof i&&i()})})}),localStorage.setItem("lng",e)}},oNav={hash:"",elems:null,istimeout:!1,init:function(){this.elems=$(".section[id]"),oNav.upd()},upd:function(){oNav.istimeout&&clearTimeout(oNav.istimeout),oNav.istimeout=setTimeout(function(){oNav.elems.each(function(){if(isElementOnScreen($(this)))return oNav.elems.removeClass("active"),$(this).addClass("active"),oNav.hash="#"+$(this).attr("id"),!1;oNav.hash=""}),oNav.set()},20)},set:function(){0<oNav.hash.length?history.pushState(null,null,oNav.hash):history.pushState(null,null,window.location.pathname+window.location.search)}},function(e){e.fn.textNode=function(t,n){return arguments.length<2&&(n=""),arguments.length<1&&(t=""),e.map(this,function(t){return function(t,n){for(var e=[],i=t.firstChild;i;i=i.nextSibling)3==i.nodeType&&e.push(i.nodeValue);return e.join(n)}(t,n)}).join(t)}}(jQuery),$(document).ready(function(){var t=$("#preloader");t.addClass("load"),setTimeout(function(){t.hide()},600)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaGVhZGVyVHlwaW5nIiwiZUxvZ28iLCIkIiwiZmluZCIsInJlbW92ZSIsImVOYW1lIiwiY2hpbGRyZW4iLCJlU3RhdHVzIiwibCIsIl9hY3Rpb24iLCJlRWxlbSIsInNUZXh0IiwiaSIsImxlbmd0aCIsImVDaGFyIiwidGV4dCIsImNoYXJBdCIsImNsYXNzIiwiYXBwZW5kIiwidGV4dE5vZGUiLCJ0b2dnbGVJc0NsaWNrIiwidGhpcyIsInRvZ2dsZUNsYXNzIiwiaXNFbGVtZW50T25TY3JlZW4iLCJlbGVtIiwid2luIiwid2luZG93IiwidG9wU2NyZWVuIiwic2Nyb2xsVG9wIiwiYm90dG9tU2NyZWVuIiwiaGVpZ2h0IiwibWlkZGxlU2NyZWVuIiwidG9wRWxlbSIsIm9mZnNldCIsInRvcCIsImJvdHRvbUVsZW0iLCJyZXBsYWNlQXQiLCJzIiwibiIsInQiLCJzdWJzdHJpbmciLCJvTG5nIiwiaW5pdCIsIm9OYXYiLCJkb2N1bWVudCIsIm9uIiwiZSIsInVwZCIsInNEZWZhdWx0IiwiX3RoaXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZ2V0SlNPTiIsImRhdGEiLCJvU3RyaW5ncyIsInRvZ2dsZXIiLCJzZXQiLCJjbGljayIsImZhaWwiLCJ0eXBlIiwiaW5mbyIsImNvbnNvbGUiLCJlcnJvciIsImFkZENsYXNzIiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsImxuZyIsImYiLCJzQ3VycmVudCIsImVhY2giLCJzTmFtZSIsImF0dHIiLCJhbmltYXRlIiwib3BhY2l0eSIsImh0bWwiLCJzZXRJdGVtIiwiaGFzaCIsImVsZW1zIiwiaXN0aW1lb3V0IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwic2VhcmNoIiwiZm4iLCJlbGVtZW50U2VwYXJhdG9yIiwibm9kZVNlcGFyYXRvciIsImFyZ3VtZW50cyIsIm1hcCIsImVsIiwic2VwYXJhdG9yIiwidGV4dENvbnRlbnRzIiwiY2hsZCIsImZpcnN0Q2hpbGQiLCJuZXh0U2libGluZyIsIm5vZGVUeXBlIiwicHVzaCIsIm5vZGVWYWx1ZSIsImpvaW4iLCJlbGVtZW50VGV4dCIsImpRdWVyeSIsInJlYWR5IiwiZVByZWxvYWQiLCJoaWRlIl0sIm1hcHBpbmdzIjoiQUFXQSxTQUFTQSxlQUNSLElBQUlDLEVBQVFDLEVBQUUsZ0JBQ2RELEVBQU1FLEtBQUssU0FBU0MsU0FFcEIsSUFBSUMsRUFBUUosRUFBTUssU0FBUyxRQUMxQkMsRUFBVU4sRUFBTUssU0FBUyxTQUN6QkUsRUFBSSxFQUtMLFNBQVNDLEVBQVNDLEVBQU9DLEdBQ3hCLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQ3RDLElBQUlFLEVBQVFaLEVBQUUsVUFBVyxDQUN2QmEsS0FBTUosRUFBTUssT0FBT0osR0FDbkJLLE1BQU8sY0FBZVQsRUFBRSxLQUUxQkUsRUFBTVEsT0FBT0osR0FDYk4sS0FWRkMsRUFBUUosRUFBT0EsRUFBTUMsU0FBUyxRQUFRYSxZQUN0Q1YsRUFBUUYsRUFBU0EsRUFBUUQsU0FBUyxRQUFRYSxZQXNHM0MsU0FBU0MsZ0JBQ1JsQixFQUFFbUIsTUFBTUMsWUFBWSxZQUdyQixTQUFTQyxrQkFBbUJDLEdBQzNCLElBQUlDLEVBQU12QixFQUFFd0IsUUFDWEMsRUFBWUYsRUFBSUcsWUFDaEJDLEVBQWVGLEVBQVlGLEVBQUlLLFNBQy9CQyxFQUFlSixFQUFZRixFQUFJSyxTQUFXLEVBQzFDRSxFQUFVUixFQUFLUyxTQUFTQyxJQUN4QkMsRUFBYUgsRUFBVVIsRUFBS00sU0FFN0IsT0FBU0UsRUFBVUgsR0FBNkJGLEdBQVhLLEdBQTBCQSxFQUFVTCxHQUE0QkksRUFBYkksRUFHekYsU0FBU0MsVUFBV0MsRUFBR0MsRUFBR0MsR0FDekIsT0FBT0YsRUFBRUcsVUFBVSxFQUFHRixHQUFLQyxFQUFJRixFQUFFRyxVQUFVRixFQUFJLEdBMUloRHBDLEVBQUUsV0FFRHVDLEtB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RUFBV3RHLEVBQUUsY0FDakJzRyxFQUFTekMsU0FBUyxRQUNsQmlCLFdBQVcsV0FDVndCLEVBQVNDLFFBQ1AiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24gKCkge1xyXG5cclxuXHRvTG5nLmluaXQoKTtcclxuXHJcblx0b05hdi5pbml0KCk7XHJcblx0JChkb2N1bWVudCkub24oJ3Njcm9sbCcsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRvTmF2LnVwZCgpO1xyXG5cdH0pO1xyXG5cclxufSlcclxuXHJcbmZ1bmN0aW9uIGhlYWRlclR5cGluZyAoKSB7XHJcblx0dmFyIGVMb2dvID0gJCgnLmhlYWRlci1sb2dvJyk7XHJcblx0ZUxvZ28uZmluZCgnLmNoYXInKS5yZW1vdmUoKTtcclxuXHJcblx0dmFyIGVOYW1lID0gZUxvZ28uY2hpbGRyZW4oJ3NwYW4nKSxcclxuXHRcdGVTdGF0dXMgPSBlTG9nby5jaGlsZHJlbignc21hbGwnKSxcclxuXHRcdGwgPSAwO1xyXG5cclxuXHRfYWN0aW9uKGVOYW1lLCBlTmFtZS5jaGlsZHJlbignc3BhbicpLnRleHROb2RlKCkpO1xyXG5cdF9hY3Rpb24oZVN0YXR1cywgZVN0YXR1cy5jaGlsZHJlbignc3BhbicpLnRleHROb2RlKCkpO1xyXG5cclxuXHRmdW5jdGlvbiBfYWN0aW9uIChlRWxlbSwgc1RleHQpIHtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc1RleHQubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGVDaGFyID0gJCgnPHNwYW4vPicsIHtcclxuXHRcdFx0XHRcdHRleHQ6IHNUZXh0LmNoYXJBdChpKSxcclxuXHRcdFx0XHRcdGNsYXNzOiAnY2hhciBjaGFyLScrIChsKzEpXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdGVFbGVtLmFwcGVuZChlQ2hhcik7XHJcblx0XHRcdGwrKztcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbm9MbmcgPSB7XHJcblx0c0RlZmF1bHQ6ICdydScsXHJcblx0aW5pdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIF90aGlzID0gdGhpcztcclxuXHJcblx0XHRpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xuZycpKSBfdGhpcy5zRGVmYXVsdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsbmcnKTtcclxuXHJcblx0XHQkLmdldEpTT04oJy9sYW5nLmpzb24nLCBmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRfdGhpcy5vU3RyaW5ncyA9IGRhdGE7XHJcblxyXG5cdFx0XHRfdGhpcy50b2dnbGVyKCQoJ1tkYXRhLWxuZz1cIicrIF90aGlzLnNEZWZhdWx0ICsnXCJdJykpO1xyXG5cclxuXHRcdFx0X3RoaXMuc2V0KF90aGlzLnNEZWZhdWx0LCBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRcdCQoJ1tkYXRhLWxuZ10nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRfdGhpcy50b2dnbGVyKCQodGhpcykpO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0pO1xyXG5cdFx0fSkuZmFpbChmdW5jdGlvbiAoZSwgdHlwZSwgaW5mbykge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKGluZm8pO1xyXG4gICAgXHR9KTs7XHJcblx0fSxcclxuXHR0b2dnbGVyOiBmdW5jdGlvbiAoZUVsZW0pIHtcclxuXHRcdHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG5cdFx0ZUVsZW0uYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0dmFyIGxuZyA9IGVFbGVtLmRhdGEoJ2xuZycpO1xyXG5cclxuXHRcdF90aGlzLnNldChsbmcsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aGVhZGVyVHlwaW5nKCk7XHJcblx0XHR9KTtcclxuXHR9LFxyXG5cdHNldDogZnVuY3Rpb24gKGxuZywgZikge1xyXG5cdFx0dmFyIF90aGlzID0gdGhpcztcclxuXHRcdGlmICghX3RoaXMub1N0cmluZ3NbbG5nXSkgbG5nID0gX3RoaXMuc0RlZmF1bHQ7XHJcblxyXG5cdFx0X3RoaXMuc0N1cnJlbnQgPSBsbmc7XHJcblxyXG5cdFx0JCgnW2xuZ3N0cl0nKS5lYWNoKGZ1bmN0aW9uIChpKSB7XHJcblx0XHRcdHZhciBzTmFtZSA9ICQodGhpcykuYXR0cignbG5nc3RyJyk7XHJcblx0XHRcdCQodGhpcykuYW5pbWF0ZSh7b3BhY2l0eTogMH0sIDIwMCwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCQodGhpcykuaHRtbChfdGhpcy5vU3RyaW5nc1tsbmddW3NOYW1lXSk7XHJcblx0XHRcdFx0JCh0aGlzKS5hbmltYXRlKHtvcGFjaXR5OiAxfSwgMjAwLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRpZiAoJCgnW2xuZ3N0cl0nKS5sZW5ndGggPT0gaSsxKSB7XHJcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgZiA9PSAnZnVuY3Rpb24nKSBmKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pXHJcblx0XHRcdFxyXG5cdFx0fSlcclxuXHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbG5nJywgbG5nKTtcclxuXHR9XHJcbn1cclxuXHJcbm9OYXYgPSB7XHJcblx0aGFzaDogJycsXHJcblx0ZWxlbXM6IG51bGwsXHJcblx0aXN0aW1lb3V0OiBmYWxzZSxcclxuXHRpbml0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLmVsZW1zID0gJCgnLnNlY3Rpb25baWRdJyk7XHJcblx0XHRvTmF2LnVwZCgpO1xyXG5cdH0sXHJcblx0dXBkOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAob05hdi5pc3RpbWVvdXQpIGNsZWFyVGltZW91dChvTmF2LmlzdGltZW91dCk7XHJcblxyXG5cdFx0b05hdi5pc3RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0b05hdi5lbGVtcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRpZiAoaXNFbGVtZW50T25TY3JlZW4oJCh0aGlzKSkpIHtcclxuXHRcdFx0XHRcdG9OYXYuZWxlbXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0XHRvTmF2Lmhhc2ggPSAnIycrICQodGhpcykuYXR0cignaWQnKTtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0b05hdi5oYXNoID0gJyc7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0b05hdi5zZXQoKTtcclxuXHRcdH0sIDIwKTtcclxuXHR9LFxyXG5cdHNldDogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKG9OYXYuaGFzaC5sZW5ndGggPiAwKSBcclxuXHRcdFx0aGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgbnVsbCwgb05hdi5oYXNoKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBudWxsLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZUlzQ2xpY2sgKCkge1xyXG5cdCQodGhpcykudG9nZ2xlQ2xhc3MoJ2lzLWNsaWNrJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzRWxlbWVudE9uU2NyZWVuIChlbGVtKSB7XHJcblx0dmFyIHdpbiA9ICQod2luZG93KSxcclxuXHRcdHRvcFNjcmVlbiA9IHdpbi5zY3JvbGxUb3AoKSxcclxuXHRcdGJvdHRvbVNjcmVlbiA9IHRvcFNjcmVlbiArIHdpbi5oZWlnaHQoKSxcclxuXHRcdG1pZGRsZVNjcmVlbiA9IHRvcFNjcmVlbiArIHdpbi5oZWlnaHQoKSAvIDIsXHJcblx0XHR0b3BFbGVtID0gZWxlbS5vZmZzZXQoKS50b3AsXHJcblx0XHRib3R0b21FbGVtID0gdG9wRWxlbSArIGVsZW0uaGVpZ2h0KCk7XHJcblx0Ly9yZXR1cm4gKChib3R0b21FbGVtIDw9IGJvdHRvbVNjcmVlbikgJiYgKHRvcEVsZW0gPj0gdG9wU2NyZWVuKSk7XHJcblx0cmV0dXJuICgodG9wRWxlbSA8IGJvdHRvbVNjcmVlbikgJiYgKHRvcEVsZW0gPj0gdG9wU2NyZWVuKSB8fCAodG9wRWxlbSA8IHRvcFNjcmVlbikgJiYgKGJvdHRvbUVsZW0gPiBtaWRkbGVTY3JlZW4pKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVwbGFjZUF0IChzLCBuLCB0KSB7XHJcblx0cmV0dXJuIHMuc3Vic3RyaW5nKDAsIG4pICsgdCArIHMuc3Vic3RyaW5nKG4gKyAxKTtcclxufVxyXG5cclxuKGZ1bmN0aW9uICgkKSB7XHJcblx0ZnVuY3Rpb24gZWxlbWVudFRleHQgKGVsLCBzZXBhcmF0b3IpIHtcclxuXHRcdHZhciB0ZXh0Q29udGVudHMgPSBbXTtcclxuXHRcdGZvcih2YXIgY2hsZCA9IGVsLmZpcnN0Q2hpbGQ7IGNobGQ7IGNobGQgPSBjaGxkLm5leHRTaWJsaW5nKSB7XHJcblx0XHRcdGlmIChjaGxkLm5vZGVUeXBlID09IDMpIHsgXHJcblx0XHRcdFx0dGV4dENvbnRlbnRzLnB1c2goY2hsZC5ub2RlVmFsdWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGV4dENvbnRlbnRzLmpvaW4oc2VwYXJhdG9yKTtcclxuXHR9XHJcblx0JC5mbi50ZXh0Tm9kZSA9IGZ1bmN0aW9uIChlbGVtZW50U2VwYXJhdG9yLCBub2RlU2VwYXJhdG9yKSB7XHJcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aDwyKXtub2RlU2VwYXJhdG9yPVwiXCI7fVxyXG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGg8MSl7ZWxlbWVudFNlcGFyYXRvcj1cIlwiO31cclxuXHRcdHJldHVybiAkLm1hcCh0aGlzLCBmdW5jdGlvbiAoZWwpIHtcclxuXHRcdFx0cmV0dXJuIGVsZW1lbnRUZXh0KGVsLCBub2RlU2VwYXJhdG9yKTtcclxuXHRcdH0pLmpvaW4oZWxlbWVudFNlcGFyYXRvcik7XHJcblx0fVxyXG59IChqUXVlcnkpKTtcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkgeyBcclxuXHR2YXIgZVByZWxvYWQgPSAkKCcjcHJlbG9hZGVyJyk7XHJcblx0ZVByZWxvYWQuYWRkQ2xhc3MoJ2xvYWQnKVxyXG5cdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0ZVByZWxvYWQuaGlkZSgpXHJcblx0fSwgNjAwKSBcclxufSk7Il19
