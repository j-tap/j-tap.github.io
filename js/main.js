function headerTyping(){var t=$(".header-logo");t.find(".char").remove();var n=t.children("span"),e=t.children("small"),o=0;function i(t,n){for(var e=0;e<n.length;e++){var i=$("<span/>",{text:n.charAt(e),class:"char char-"+(o+1)});t.append(i),o++}}i(n,n.children("span").textNode()),i(e,e.children("span").textNode())}function toggleIsClick(){$(this).toggleClass("is-click")}function isElementOnScreen(t){var n=$(window),e=n.scrollTop(),i=e+n.height(),o=e+n.height()/2,a=t.offset().top,s=a+t.height();return a<i&&e<=a||a<e&&o<s}function replaceAt(t,n,e){return t.substring(0,n)+e+t.substring(n+1)}$(function(){oLng.init(),oNav.init(),$(document).on("scroll",function(t){oNav.upd()})}),oLng={sDefault:"ru",init:function(){var n=this;localStorage.getItem("lng")&&(n.sDefault=localStorage.getItem("lng")),$.getJSON("/lang.json",function(t){n.oStrings=t,n.toggler($('[data-lng="'+n.sDefault+'"]')),n.set(n.sDefault,function(){$("[data-lng]").click(function(){n.toggler($(this))})})}).fail(function(t,n,e){console.error(e)})},toggler:function(t){t.addClass("active").siblings().removeClass("active");var n=t.data("lng");this.set(n,function(){headerTyping()})},set:function(e,i){var o=this;o.oStrings[e]||(e=o.sDefault),o.sCurrent=e,$("[lngstr]").each(function(t){var n=$(this).attr("lngstr");$(this).animate({opacity:0},200,function(){$(this).html(o.oStrings[e][n]),$(this).animate({opacity:1},200,function(){$("[lngstr]").length==t+1&&"function"==typeof i&&i()})})}),localStorage.setItem("lng",e)}},oNav={hash:"",elems:null,istimeout:!1,init:function(){this.elems=$(".section[id]"),oNav.upd()},upd:function(){oNav.istimeout&&clearTimeout(oNav.istimeout),oNav.istimeout=setTimeout(function(){oNav.elems.each(function(){if(isElementOnScreen($(this)))return oNav.elems.removeClass("active"),$(this).addClass("active"),oNav.hash="#"+$(this).attr("id"),!1;oNav.hash=""}),oNav.set()},20)},set:function(){0<oNav.hash.length?history.pushState(null,null,oNav.hash):history.pushState(null,null,window.location.pathname+window.location.search)}},function(e){e.fn.textNode=function(t,n){return arguments.length<2&&(n=""),arguments.length<1&&(t=""),e.map(this,function(t){return function(t,n){for(var e=[],i=t.firstChild;i;i=i.nextSibling)3==i.nodeType&&e.push(i.nodeValue);return e.join(n)}(t,n)}).join(t)}}(jQuery),$(document).ready(function(){var t=$("#preloader");t.addClass("load"),setTimeout(function(){t.hide()},600)});